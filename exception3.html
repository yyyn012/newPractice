<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>exception-handling(3)</title>
  </head>
  <body>
    <script>
      // Promise객체에서의 에러 핸들링

      // promise 객체가 rejected 상태가 되면 이 promise에 대해서 then 메소드에 첫 번째 인수로 넘겨준 콜백이 실행되지 ㅇ낳고, 두 번째 인수로 넘겨준 콜백이 대신 실행된다. 그리고 이 콜백에는 에러 객체가 첫 번째 인수로 주어진다.

      const p = new Promise((resolve) => {
        const even = parseInt(prompt("짝수를 입력하세요"));
        if (even % 2 !== 0) {
          throw new Error("짝수가 아닙니다.");
        } else {
          resolve(even);
        }
      });

      //   p.then(
      //     (even) => {
      //       return "짝수입니다.";
      //     },
      //     (e) => {
      //       return e.message;
      //     }
      //   ).then(alert);

      //   또는 catch를 통해 에러 처리 콜백을 지정해 줄 수도 있따.

      p.then((even) => {
        return "짝수입니다.";
      })
        .catch((e) => {
          return e.message;
        })
        .then(alert);
    </script>
  </body>
</html>
